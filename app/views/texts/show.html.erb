<div class="container">
  <div class="nav-links">
    <%= link_to "â† Back to Texts", texts_path %> |
    <%= link_to "Edit", edit_text_path(@text) %> |
    <%= link_to "Delete", text_path(@text), 
                data: { turbo_method: :delete, turbo_confirm: "Are you sure you want to delete this text?" },
                class: "text-danger",
                aria_label: "Delete #{@text.title}" %>
  </div>

  <% if notice %>
    <div class="alert alert-success"><%= notice %></div>
  <% end %>

  <div class="card">
    <h1><%= @text.title %></h1>
    <p><%= "Category: #{@text.category.title}" if @text.category %></p>
    <div style="white-space: pre-wrap; line-height: 1.8; color: #333;">
      <%== marksmithed sanitize(@text.content, tags: %w(table th tr td span) + ActionView::Helpers::SanitizeHelper.sanitizer_vendor.safe_list_sanitizer.allowed_tags.to_a) %>
    </div>
    
    <hr style="margin: 30px 0; border: none; border-top: 1px solid #ddd;">
    
    <div style="color: #666; font-size: 0.9rem;">
      <p><strong>Created:</strong> <%= @text.created_at.strftime("%B %d, %Y at %I:%M %p") %></p>
      <% if @text.updated_at != @text.created_at %>
        <p><strong>Updated:</strong> <%= @text.updated_at.strftime("%B %d, %Y at %I:%M %p") %></p>
      <% end %>
    </div>
  </div>
</div>
